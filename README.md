### IDDB原理

```
1.基于LMDB引擎开发，采用多进程、epoll、读写分离模式，支持插件扩展；
2.支持插件机制、索引机制以及标签机制。插件机制可扩展功能和业务，如索引功能、标签功能、高可用性等都是通过插件实现的，索引机制能根据属性索引定位到具体对象，标签机制实现了类似组的功能，且允许有多个标签;
```

### 使用说明
- **运行环境**
```
1.需要至少双核CPU以及2G内存
```
- **调试方法**
```
1.前台运行加-d参数开启调试，如：./iddb -d
2.后台运行需要touch /tmp/iddb.debug开启调试
3.可通过ps命令查看进程的运行状态，例如读写进程数是否正常、辅助进程是否在运行等
```
- **后台参数设置**
```
1.config目录下的iddbmod.ini里支持部分自定义参数设置，请参看env部分，包括数据库文件目录位置、数据库文件最大大小、进程数等
```
- **新增插件**
```
1.需要配置config目录下的iddbmod.ini，里面有示例
2.插件可使用的接口列表以及注意事项请参考db_interface.h
3.插件可扩展功能和业务，iddb提供了诸多hook以及辅助接口，如配置更新、生存有效期等，新需求建议首先通过插件实现
```
- **索引机制**
```
1.需要配置config目录下的db_index.conf
2.配置完成后iddb内部会自动处理对象中的索引，开发者只需要进行正常的CURD操作即可，需要注意的是索引必须是唯一的
3.根据索引查询对象请调用queryAttr接口
```
- **标签机制**
```
1.需要配置config目录下的db_tags.conf
2.配置完成后iddb内部会自动处理对象中的标签，开发者只需要进行正常的CURD操作即可
3.标签最大数限制定义在iddb_common.h里，不要乱用标签机制，如将用户名作为标签，会导致标签数过大，对性能有很大损耗
4.标签实现了类似组的功能，不过更加灵活，可支持多标签，且不需要开发者额外关注标签的处理，另外标签像组一样，可以使得对象分开存储，优化存储和性能，请灵活运用标签
5.多标签包含两种形式，一种是拥有不同的tag key，如：{ name = test, desc = sky }，其中name和desc均为标签，
    一种是拥有同一tag key但包含不同value值，为此种情况时需要使用逗号","作为分割符，例如：{ name = test, desc = sky, adminid = 111aa,111ab,111ac }，其中name、desc、adminid均为标签
```
